%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Box Design  %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[many]{tcolorbox}    	% for COLORED BOXES (tikz and xcolor included)
\usepackage{mathspec} 			    % for FONTS
\usepackage{setspace}               % for LINE SPACING
\usepackage{multicol}               % for MULTICOLUMNS

\setlength\parindent{0pt}   % killing indentation for all the text
\setstretch{1.3}            % setting line spacing to 1.3
\setlength\columnsep{0.25in} % setting length of column separator
\pagestyle{empty}           % setting pagestyle to be empty

%%% Colour Definition %%%

\definecolor{main}{HTML}{0645AD}    % setting main color to be used
\definecolor{sub}{HTML}{05317a}     % setting sub color to be used
\definecolor{grey}{HTML}{f7f5f0}     % setting sub color to be used

\definecolor{criticalbox}{HTML}{8444a7}
\definecolor{highbox}{RGB}{252, 7, 3}
\definecolor{mediumbox}{RGB}{252, 144, 3}
\definecolor{lowbox}{RGB}{0,212,32}
\definecolor{infobox}{RGB}{94,185,255}


%\definecolor{Critical}{RGB}{132, 68, 167}
%\definecolor{High}{RGB}{231, 0, 37}
%\definecolor{Moderate}{RGB}{255, 201, 14}
%\definecolor{Low}{RGB}{255,248,135}
%\definecolor{Informational}{HTML}{C5FFAD}


\tcbset{
    sharp corners,
    colback = white,
    before skip = 0.2cm,    % add extra space before the box
    after skip = 0.5cm      % add extra space after the box
}                           % setting global options for tcolorbox

\newtcolorbox{boxSection}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = main!80, 
    colframe = main, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxSubSection}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = main!60, 
    colframe = main!80, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxSubSubSection}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = main!40, 
    colframe = main!60, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxGrey}{
    breakable,
    rounded corners,
    arc = 6pt,
    colback = grey!80, 
    colframe = grey, 
    boxrule = 0pt, 
    %bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35},
    %enlarge bottom at break by=-3cm,
    %pad before break=,
    %bottomsep at break=cm,
}

\newtcolorbox{boxCode}{
    breakable,
    rounded corners,
    arc = 6pt,
    colback = gray!15, 
    colframe = grey, 
    boxrule = 0pt, 
    %bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35},
    %enlarge bottom at break by=-3cm,
    %pad before break=,
    %bottomsep at break=cm,
}

\newtcolorbox[blend into=tables]{boxTable}{
    rounded corners,
    arc = 6pt,
    colback = grey!80, 
    colframe = grey, 
    boxrule = 0pt, 
    %bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

%%% Finding Level Boxes %%%

\newtcolorbox{boxCritical}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = criticalbox, 
    colframe = criticalbox!120, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxCriticalSub}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = criticalbox!80, 
    colframe = criticalbox, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxHigh}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = highbox, 
    colframe = highbox!120, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxHighSub}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = highbox!80, 
    colframe = highbox, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxMedium}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = mediumbox, 
    colframe = mediumbox!120, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxMediumSub}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = mediumbox!80, 
    colframe = mediumbox, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}


\newtcolorbox{boxLow}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = lowbox, 
    colframe = lowbox!120, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxLowSub}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = lowbox!60, 
    colframe = lowbox, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxInfo}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = infobox, 
    colframe = infobox!120, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

\newtcolorbox{boxInfoSub}{
    fontupper = \color{white},
    rounded corners,
    arc = 6pt,
    colback = infobox!80, 
    colframe = infobox, 
    boxrule = 0pt, 
    bottomrule = 4.5pt,
    enhanced,
    fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Custom Environments                     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Custom Commands                     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%Section title in box
%\newcommand{\boxsection}[1]{\newline\vspace{8pt}\begin{boxSection}\section{#1}\end{boxSection}}
\NewDocumentCommand{\boxsection}{ m o }{%
  \vspace{8pt}
  \begin{boxSection}
    \section{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
  \end{boxSection}
}
\NewDocumentCommand{\boxsubsection}{ m o }{%
  \vspace{8pt}
  \begin{boxSubSection}
    \subsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
  \end{boxSubSection}
}
\NewDocumentCommand{\boxsubsubsection}{ m o }{%
  \vspace{8pt}
  \begin{boxSubSubSection}
    \subsubsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
  \end{boxSubSubSection}
}

\NewDocumentCommand{\boxcriticalsection}{ m o }{%
  \vspace{8pt}
\begin{boxCritical}
\subsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxCritical}
}
\NewDocumentCommand{\boxcriticalsectionsub}{ m o }{%
  \vspace{8pt}
\begin{boxCriticalSub}
\subsubsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxCriticalSub}
}
\NewDocumentCommand{\boxcriticalsectionsubsub}{ m o }{%
  \vspace{8pt}
\begin{boxCriticalSub}
\subsubsubsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxCriticalSub}
}

\NewDocumentCommand{\boxhighsection}{ m o }{%
  \vspace{8pt}
\begin{boxHigh}
\subsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxHigh}
}

\NewDocumentCommand{\boxhighsectionsub}{ m o }{%
  \vspace{8pt}
\begin{boxHighSub}
\subsubsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxHighSub}
}

\NewDocumentCommand{\boxmediumsection}{ m o }{%
  \vspace{8pt}
\begin{boxMedium}
\subsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxMedium}
}

\NewDocumentCommand{\boxmediumsectionsub}{ m o }{%
  \vspace{8pt}
\begin{boxMediumSub}
\subsubsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxMediumSub}
}

\NewDocumentCommand{\boxlowsection}{ m o }{%
  \vspace{8pt}
\begin{boxLow}
\subsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxLow}
}

\NewDocumentCommand{\boxlowsectionsub}{ m o }{%
  \vspace{8pt}
\begin{boxLowSub}
\subsubsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxLowSub}
}

\NewDocumentCommand{\boxinfosection}{ m o }{%
  \vspace{8pt}
\begin{boxInfo}
\subsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxInfo}
}

\NewDocumentCommand{\boxinfosectionsub}{ m o }{%
  \vspace{8pt}
\begin{boxInfoSub}
\subsubsection{#1\IfValueT{#2}{\hfill\textcolor{white}{#2}}}
\end{boxInfoSub}
}

\newcommand{\highlight}[1]{\textcolor{white}{\hl{\textbf{#1}}}}

\newcommand{\bij}[1]{
    \refstepcounter{figure}
    \footnotesize{\textcolor{darkgray}{Figure \thefigure: #1}}
}

\graphicspath{{images/}}
\newcommand{\image}[3][\linewidth]{
    \begin{center}
    \includegraphics[width=#1]{#2}
    \\
    \bij{#3}
    \end{center}
}

\newcommand{\image}[1][2]{\begin{figure}\centering\includegraphics[width=\textwidth]{images/#1}\caption{#2}\end{figure}}
